"カテゴリ","ID","種別","観点","前提","手順","期待結果","実施結果","担当","実施日","備考"
"1. 画面遷移 / UI","UI-01","手動/統合","起動初期画面","初回起動","ページを開く","タイトル画面が表示される","","","",""
"1. 画面遷移 / UI","UI-02","手動/統合","タイトル要素表示","タイトル画面","画面確認","ゲーム名、`ゲームスタート`、最高スコア表示がある","","","",""
"1. 画面遷移 / UI","UI-03","手動/統合","ゲーム開始遷移","タイトル画面","`ゲームスタート` 押下","インゲーム画面へ遷移し、ゲームループが開始される","","","",""
"1. 画面遷移 / UI","UI-04","手動/統合","リザルト遷移","プレイ中、ライフ1","被弾してライフ0にする","即時にリザルト画面へ遷移する","","","",""
"1. 画面遷移 / UI","UI-05","手動/統合","リザルト要素表示","リザルト画面","画面確認","今回スコア、最高スコア、`タイトルへ` ボタンが表示される","","","",""
"1. 画面遷移 / UI","UI-06","手動/統合","リザルト→タイトル","リザルト画面","`タイトルへ` 押下","タイトル画面へ戻る","","","",""
"1. 画面遷移 / UI","UI-07","手動/統合","リトライ非表示","リザルト画面","画面確認","`リトライ` ボタンが存在しない","","","",""
"1. 画面遷移 / UI","UI-08","手動/統合","タイトル復帰後の開始条件","一度ゲーム終了済み","タイトルに戻って再度 `ゲームスタート`","スコア0、ライフ3、障害物空の新規ゲームとして開始される","","","",""
"1. 画面遷移 / UI","UI-09","手動","HUD表示","プレイ中","画面確認","現在スコアと残りライフが表示される","","","",""
"1. 画面遷移 / UI","UI-10","手動","横向き案内オーバーレイ","端末を横向きにする","画面回転","「縦持ちでプレイしてください」相当の案内オーバーレイが表示される（README基準）","","","",""
"1. 画面遷移 / UI","UI-11","手動","縦向き復帰","UI-10の状態","縦向きに戻す","オーバーレイが解除され、通常プレイ表示に戻る","","","",""
"1. 画面遷移 / UI","UI-12","統合","画面外DOMタップ無視","プレイ中","Canvas外のDOM領域をタップ","レーン移動や不正入力が発生しない","","","",""
"2. 入力操作（3レーン移動）","IN-01","手動/統合","左レーン移動","プレイ中","左1/3領域をタップ","自機がレーン0へ即時移動する","","","",""
"2. 入力操作（3レーン移動）","IN-02","手動/統合","中央レーン移動","プレイ中","中央1/3領域をタップ","自機がレーン1へ即時移動する","","","",""
"2. 入力操作（3レーン移動）","IN-03","手動/統合","右レーン移動","プレイ中","右1/3領域をタップ","自機がレーン2へ即時移動する","","","",""
"2. 入力操作（3レーン移動）","IN-04","ロジック","レーン境界判定（左/中央境界）","レーン判定関数 or 入力処理テスト可能","境界直前/境界値/直後のX座標を入力","境界値仕様どおりに一意なレーンへ割り当てられる","","","",""
"2. 入力操作（3レーン移動）","IN-05","ロジック","レーン境界判定（中央/右境界）","同上","境界直前/境界値/直後のX座標を入力","境界値仕様どおりに一意なレーンへ割り当てられる","","","",""
"2. 入力操作（3レーン移動）","IN-06","手動","連打耐性","プレイ中","複数レーンを高速連打","入力取りこぼしが顕著でなく、最終タップ位置のレーンに追従する","","","",""
"2. 入力操作（3レーン移動）","IN-07","手動","スクロール/ズーム抑止","スマホ実機","プレイ中に連続タップ/ダブルタップ","スクロールやズームで操作不能になりにくい（`touch-action` 効果）","","","",""
"3. スコア / 最高スコア / 永続化","SC-01","ロジック/統合","回避でスコア加算","障害物1つが未被弾のまま画面下へ抜ける状態","`updateGame` を進める","スコアが `+1` される","","","",""
"3. スコア / 最高スコア / 永続化","SC-02","ロジック/統合","被弾障害物は加点なし","衝突済み障害物が消去される状態","更新を進める","該当障害物由来のスコア加算が発生しない","","","",""
"3. スコア / 最高スコア / 永続化","SC-03","ロジック","複数障害物同時通過","複数障害物が同フレームで画面下へ抜ける状態","更新を進める","未被弾分の数だけスコアが加算される","","","",""
"3. スコア / 最高スコア / 永続化","SC-04","統合","最高スコア更新（上回る）","既存最高スコア < 今回スコア","ゲーム終了処理","最高スコアが今回スコアに更新される","","","",""
"3. スコア / 最高スコア / 永続化","SC-05","統合","最高スコア非更新（同値）","既存最高スコア = 今回スコア","ゲーム終了処理","最高スコアは維持される","","","",""
"3. スコア / 最高スコア / 永続化","SC-06","統合","最高スコア非更新（下回る）","既存最高スコア > 今回スコア","ゲーム終了処理","最高スコアは維持される","","","",""
"3. スコア / 最高スコア / 永続化","SC-07","統合","`localStorage` 保存キー","保存成功環境","プレイして最高スコア更新","`miniGame.laneDodge.highScore` に保存される","","","",""
"3. スコア / 最高スコア / 永続化","SC-08","手動/統合","再読み込み後の保持","保存済み","ページ再読み込み","タイトル画面の最高スコアが保持される","","","",""
"3. スコア / 最高スコア / 永続化","SC-09","ロジック/統合","`localStorage` 不可時フォールバック","`localStorage` 例外をモック","起動・プレイ・終了","ゲーム本体は継続動作し、最高スコア保存のみスキップされる","","","",""
"3. スコア / 最高スコア / 永続化","SC-10","ロジック","不正保存値耐性","`localStorage` に不正値（文字列/負数/null）","起動時読込","0または安全な値として扱い、クラッシュしない","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-01","ロジック/統合","同一レーン衝突で被弾","自機と障害物が同一レーンかつ重なり","更新を1フレーム進める","ライフが1減る","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-02","ロジック/統合","異なるレーンは非衝突","自機と障害物が別レーン","更新を進める","ライフ変化なし","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-03","ロジック","被弾障害物消去","衝突発生","更新を進める","衝突した障害物が消去される","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-04","ロジック","無敵時間開始","被弾直後","状態確認","`isInvincible=true`、タイマーが `500ms` で開始される","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-05","ロジック","無敵中の再衝突無効","被弾直後〜500ms未満","同一レーン衝突を再度発生","ライフが追加で減らない","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-06","ロジック","無敵時間境界（499ms）","無敵中","経過 `499ms`","まだ被弾しない","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-07","ロジック","無敵時間境界（500ms）","無敵中","経過 `500ms` 以上後に衝突","再び被弾対象になる","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-08","統合","ライフ減少遷移 `3→2→1→0`","新規ゲーム","衝突を4回相当試行（無敵時間考慮）","ライフ表示が `3,2,1,0` と正しく推移し、0で終了","","","",""
"4. 衝突判定 / ライフ / 無敵時間","HP-09","統合","ゲームオーバー条件","ライフ1","被弾","ライフ0到達時点でプレイ継続せずリザルトへ遷移","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-01","ロジック","Stage判定: `0`","`getStageByScore` 呼出可能","score=`0`","Stage 1","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-02","ロジック","Stage判定境界: `14`","同上","score=`14`","Stage 1","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-03","ロジック","Stage判定境界: `15`","同上","score=`15`","Stage 2","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-04","ロジック","Stage判定境界: `34`","同上","score=`34`","Stage 2","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-05","ロジック","Stage判定境界: `35`","同上","score=`35`","Stage 3","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-06","ロジック","Stage判定境界: `59`","同上","score=`59`","Stage 3","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-07","ロジック","Stage判定境界: `60`","同上","score=`60`","Stage 4","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-08","ロジック/統合","Stage上昇時の速度反映","scoreを閾値跨ぎに調整","更新を進める","障害物速度が新ステージ値に変わる","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-09","ロジック/統合","Stage上昇時の生成間隔反映","同上","スポーン周期を観測","生成間隔が新ステージ値に変わる","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-10","ロジック","1回生成数の上限","生成処理テスト可能","複数回生成","1回で障害物数は `1` または `2` のみ","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-11","ロジック","同時3レーン生成禁止","生成処理テスト可能","多数回生成","3レーン全埋めパターンが一度も出ない","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-12","ロジック","同時2レーン生成率（Stage1）","Stage1固定・多数サンプル","生成を統計観測","2レーン生成が `0%`（発生しない）","","","",""
"5. 難易度ステージ / 境界値 / 生成ルール","DF-13","ロジック","直前完全一致回避","生成処理テスト可能","連続生成を観測","直前と完全一致パターンの連続発生が抑制される（仕様どおり）","","","",""
"6. ゲームループ / 時間依存 / 安定性","LP-01","ロジック","`deltaTime` 正常更新","`updateGame` 呼出可能","`deltaMs` を通常値（16ms前後）で進める","障害物位置が時間比例で更新される","","","",""
"6. ゲームループ / 時間依存 / 安定性","LP-02","ロジック","低FPS耐性","同上","大きめ `deltaMs`（例: 100ms, 200ms）で更新","速度が破綻せず、著しい不正挙動がない","","","",""
"6. ゲームループ / 時間依存 / 安定性","LP-03","統合","復帰直後の大ジャンプ抑止","`visibilitychange` 実装あり","非表示→表示に戻す","復帰直後に障害物が大きくワープしない","","","",""
"6. ゲームループ / 時間依存 / 安定性","LP-04","ロジック/統合","ゲーム終了後ループ停止","ライフ0到達後","追加フレーム進行","スコア/障害物更新が継続しない","","","",""
"6. ゲームループ / 時間依存 / 安定性","LP-05","統合","再ゲーム開始時の状態リセット","一度終了済み","再スタート","`elapsedMs`, `spawnTimerMs`, `invincible` 状態が初期化される","","","",""
"7. レスポンシブ / 表示崩れ","RS-01","手動","360px幅表示","縦向き","幅 `360px` 相当で表示","UI/Canvas/HUD/ボタンが崩れない","","","",""
"7. レスポンシブ / 表示崩れ","RS-02","手動","390px幅表示","縦向き","幅 `390px` 相当で表示","表示崩れなし","","","",""
"7. レスポンシブ / 表示崩れ","RS-03","手動","430px幅表示","縦向き","幅 `430px` 相当で表示","表示崩れなし","","","",""
"7. レスポンシブ / 表示崩れ","RS-04","手動","タイトル/リザルトの可読性","各画面表示","文字・ボタン確認","テキスト欠けやボタン押下不可がない","","","",""
"7. レスポンシブ / 表示崩れ","RS-05","手動","PCブラウザ最低限動作","PCブラウザ","起動〜1プレイ","スマホ向け見た目でも操作・遷移は可能","","","",""
